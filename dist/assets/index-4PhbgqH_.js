var y=Object.defineProperty;var b=(o,e,t)=>e in o?y(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var g=(o,e,t)=>b(o,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))u(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&u(d)}).observe(document,{childList:!0,subtree:!0});function t(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function u(n){if(n.ep)return;n.ep=!0;const r=t(n);fetch(n.href,r)}})();const E="4ca6d8a5a7c1845e205b54ef";console.log("VITE_API_KEY:","4ca6d8a5a7c1845e205b54ef");class L{constructor(e){g(this,"baseURL");this.baseURL=e}async get(e){try{const t=await fetch(this.baseURL+e);if(console.log("Fetch status:",t.status),!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);return t.json()}catch(t){throw console.error("Error fetching data:",t),t}}}const s=document.getElementById("base-currency"),i=document.getElementById("target-currency"),f=document.getElementById("conversion-result"),l=document.getElementById("base-amount"),a=document.getElementById("target-amount");a==null||a.setAttribute("disabled","true");let c={};const h=new L(`https://v6.exchangerate-api.com/v6/${E}/latest/`);async function p(o){console.log(`fetchExchangeRates called with baseCurrency: ${o}`);try{const e=await fetch(h.baseURL+o);if(console.log("Fetch request sent:",h.baseURL+o),!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);const t=await e.json();console.log("API response:",t),t.conversion_rates?(c=t.conversion_rates,console.log("Updated exchange rates:",c),v()):console.error("❌ API response does not contain conversion rates:",t)}catch(e){console.error("❌ Error fetching exchange rates:",e)}}function v(){if(!c||Object.keys(c).length===0){console.warn("Skipping update: Conversion rates not available yet.");return}if(s&&i&&f){const o=s.value,e=i.value;if(c[e]){const t=c[e];f.textContent=`1 ${o} = ${t.toFixed(4)} ${e}`,m()}else f.textContent=`Exchange rate for ${e} not found.`}}function m(){if(!c||Object.keys(c).length===0){console.warn("Conversion rates not available yet.");return}if(s&&i&&l&&a){const o=i.value,e=parseFloat(l.value);if(isNaN(e)||e<=0){a.value="";return}if(c[o]){const t=c[o],u=e*t;a.value=u.toFixed(4)}else a.value=""}}s==null||s.addEventListener("change",()=>{s&&p(s.value)});i==null||i.addEventListener("change",v);l==null||l.addEventListener("input",m);document.addEventListener("DOMContentLoaded",()=>{s&&p(s.value)});
